<!-- Copyright (C) 2020-2025 Oleksandr Masniuk -->
<!-- SPDX-License-Identifier: AGPL-3.0-or-later -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pulse</title>
</head>
<body>
<a th:fragment="discord-bot-tile" th:href="@{/discord/bot}" class="d-inline-block link-tile link-tile-discord-bot">
    <img src="#" th:src="@{/static/icon/logo/discord.svg}" alt="Discord Logo" class="logo">
    <div class="d-inline-flex flex-center-wrap-gap gap-tiny mb-0">
        <div>Bot</div>
        <div class="feature text-secondary">1v1 stats</div>
        <div class="feature text-secondary">Role management</div>
        <th:block th:with="installationData=${@discordAPI.getInstallationData().onErrorComplete().block()}">
            <th:block th:if="${installationData != null}">
                <div class="usage server text-secondary c-divider">
                    <span class="description">Used in</span>
                    <span th:text="${installationData.guildCount()}"></span> servers
                </div>
                <div class="usage user text-secondary c-divider">
                    <span class="description">Used by</span>
                    <span th:text="${installationData.userCount()}"></span> users
                </div>
            </th:block>
        </th:block>
    </div>
</a>
<a th:fragment="discord-server-tile" th:href="${@environment.getProperty('contacts.discord.server')}" class="d-inline-block link-tile link-tile-discord-server">
    <img src="#" th:src="@{/static/icon/logo/discord.svg}" alt="Discord" class="logo">
    <div class="d-inline-flex flex-center-wrap-gap gap-tiny mb-0">
        <div>Server</div>
        <div class="feature text-secondary">Support</div>
        <div class="feature text-secondary">Feature requests</div>
    </div>
</a>
</body>
</html>
